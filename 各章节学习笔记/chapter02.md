### 2.1 概述

### 2.2 运行时数据区域

### 2.3 HotSpot 虚拟机对象探秘

#### 2.3.1 对象的创建

#### 2.3.2 对象的内存布局

在HotSpot虚拟机中，对象在内存中存储的存储布局可以分为3块区域：对象头（Header）、实例
数据（Instance Data)和对齐补充（Padding）

* HotSpot虚拟机的对象头包含两部分：第一部分用于存储对象自身的运行数据（哈希码、GC分代年
龄、锁状态标志、线程持有的锁、偏向线程ID、偏向时间戳等），官方称他为'Mark Word'，另外
一部分是类型指针，既对象指向它的类元数据的指针，虚拟机通过这个指针确定这个对象是哪个类
的实例。

* 接下来的实例数据部分是对象真正存储的有效信息，也是程序代码中所定义的各种类型的字段内容。
无论是从父类继承下来的，还是子类中定义的，都需要记录下来。

* 第三部分对其补充并不是必然存在的，也没有什么特别的含义，它仅仅起着占位符的作用。

#### 2.3.3 对象的访问定位

   建立对象是为了使用对象，我们的Java程序通过栈上的reference数据来错做堆上的具体对象，
目前主流的访问方式有使用句柄很直接指针两种

* 使用句柄的方式：

![使用句柄操作对象](https://github.com/954649679/javaJVM-/blob/master/%E5%90%84%E7%AB%A0%E8%8A%82%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image/%E9%80%9A%E8%BF%87%E5%8F%A5%E6%9F%84%E6%93%8D%E4%BD%9C%E5%AF%B9%E8%B1%A1.jpeg)

* 直接使用指针访问

![使用指针操作对象](https://github.com/954649679/javaJVM-/blob/master/%E5%90%84%E7%AB%A0%E8%8A%82%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image/%E9%80%9A%E8%BF%87%E6%8C%87%E9%92%88%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AE%E5%AF%B9%E8%B1%A1.jpeg)